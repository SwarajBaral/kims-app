(self.webpackChunkcovin_staff_app=self.webpackChunkcovin_staff_app||[]).push([[4416],{4416:(t,e,o)=>{"use strict";o.r(e),o.d(e,{AddslotPageModule:()=>h});var n=o(1116),s=o(1462),i=o(6611),a=o(5860),l=o(2693),d=o(529),c=o(8619);function g(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"ion-card-content"),c.TgZ(1,"ion-item"),c._uU(2),c.qZA(),c.TgZ(3,"ion-button",13),c.NdJ("click",function(){return c.CHM(t),c.oxw(2).toSlotsdata()}),c._uU(4,"Go to Dashboard"),c.qZA(),c.qZA()}if(2&t){const t=c.oxw(2);c.xp6(2),c.hij(" ",t.message," ")}}function u(t,e){if(1&t&&(c.TgZ(0,"ion-card"),c.TgZ(1,"ion-card-header"),c.TgZ(2,"ion-card-title"),c._uU(3),c.qZA(),c.qZA(),c.YNc(4,g,5,1,"ion-card-content",12),c.qZA()),2&t){const t=c.oxw();c.xp6(3),c.Oqu(t.messagestatus),c.xp6(1),c.Q6J("ngIf",t.message)}}const r=function(){return{standalone:!0}},Z=[{path:"",component:(()=>{class t{constructor(t,e,o,n){this.http=t,this.formBuilder=e,this.alertCtrl=o,this.router=n,this.token=JSON.parse(localStorage.getItem("staff_details")).token,this.message="",this.messagestatus="",this.date=(new Date).toJSON().slice(0,10),this.slot={type:"",date:(new Date).toJSON(),age:"",dose:"",count:""}}ngOnInit(){}toSlotsdata(){this.router.navigate(["menu/slotsdata"])}submit(){if(""==this.slot.age||""==this.slot.type||""==this.slot.count||""==this.slot.dose)return console.log("Invalid data."),void this.alertCtrl.create({header:"Required",message:"Fields cannot be left empty.",buttons:["OK"]}).then(t=>t.present());var t=new l.WM({"Content-Type":"application/json",Authorization:"Token "+this.token});this.http.post(`${d.N.BASE_SERVICE_URL}/staffserver/addslot/`,this.slot,{headers:t}).subscribe(t=>{console.log("New Slot Added"),console.log(t),this.messagestatus="Success",this.message="Slot Added Successfully.\n Check the slot details in dashboard."},t=>{console.log(t),401===t.status?(localStorage.clear(),this.router.navigate(["/"]),this.alertCtrl.create({header:"Unauthorized access",message:"You have invalid credentials. Log in again !",buttons:["OK"]}).then(t=>t.present())):(console.log(t.statusText),this.messagestatus="Failed",this.message="Slot can't be added.\nSlot with same configuration already exists. Please update the slot in dashboard")}),this.slot.age="",this.slot.count="",this.slot.dose="",this.slot.type=""}onChangeTime(t){console.log("onChangeTime"+t)}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(l.eN),c.Y36(s.qu),c.Y36(i.Br),c.Y36(a.F0))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-addslot"]],decls:48,vars:14,consts:[[2,"margin-top","3.5em"],["slot","start"],[3,"ngSubmit"],["placeholder","Select",3,"ngModel","ngModelOptions","ngModelChange"],["value","Covaxin"],["value","Covishield"],["value","Dose 1"],["value","Dose 2"],["value","18-45"],["value","45+"],["type","number","placeholder","Total Count",2,"text-align","right",3,"ngModel","ngModelOptions","ngModelChange"],["expand","block","type","submit"],[4,"ngIf"],["expand","block",3,"click"]],template:function(t,e){1&t&&(c.TgZ(0,"ion-header",0),c.TgZ(1,"ion-toolbar"),c.TgZ(2,"ion-buttons",1),c._UZ(3,"ion-back-button"),c.qZA(),c.TgZ(4,"ion-title"),c._uU(5,"Add Slot"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(6,"ion-content"),c.TgZ(7,"ion-card"),c.TgZ(8,"ion-card-header"),c.TgZ(9,"ion-card-title"),c._uU(10,"Slot Information"),c.qZA(),c.qZA(),c.TgZ(11,"ion-card-content"),c.TgZ(12,"form",2),c.NdJ("ngSubmit",function(){return e.submit()}),c.TgZ(13,"ion-item"),c.TgZ(14,"ion-label"),c._uU(15,"Slot Date"),c.qZA(),c._uU(16),c.qZA(),c.TgZ(17,"ion-item"),c.TgZ(18,"ion-label"),c._uU(19,"Vaccine Type"),c.qZA(),c.TgZ(20,"ion-select",3),c.NdJ("ngModelChange",function(t){return e.slot.type=t}),c.TgZ(21,"ion-select-option",4),c._uU(22,"Covaxin"),c.qZA(),c.TgZ(23,"ion-select-option",5),c._uU(24,"Covishield"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(25,"ion-item"),c.TgZ(26,"ion-label"),c._uU(27,"Dose Type"),c.qZA(),c.TgZ(28,"ion-select",3),c.NdJ("ngModelChange",function(t){return e.slot.dose=t}),c.TgZ(29,"ion-select-option",6),c._uU(30,"Dose 1"),c.qZA(),c.TgZ(31,"ion-select-option",7),c._uU(32,"Dose 2"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(33,"ion-item"),c.TgZ(34,"ion-label"),c._uU(35,"Age Group"),c.qZA(),c.TgZ(36,"ion-select",3),c.NdJ("ngModelChange",function(t){return e.slot.age=t}),c.TgZ(37,"ion-select-option",8),c._uU(38,"18-45"),c.qZA(),c.TgZ(39,"ion-select-option",9),c._uU(40,"45+"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(41,"ion-item"),c.TgZ(42,"ion-label"),c._uU(43,"Number of Slots"),c.qZA(),c.TgZ(44,"ion-input",10),c.NdJ("ngModelChange",function(t){return e.slot.count=t}),c.qZA(),c.qZA(),c.TgZ(45,"ion-button",11),c._uU(46,"Add Slot"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.YNc(47,u,5,2,"ion-card",12),c.qZA()),2&t&&(c.xp6(16),c.hij(" ",e.date," "),c.xp6(4),c.Q6J("ngModel",e.slot.type)("ngModelOptions",c.DdM(10,r)),c.xp6(8),c.Q6J("ngModel",e.slot.dose)("ngModelOptions",c.DdM(11,r)),c.xp6(8),c.Q6J("ngModel",e.slot.age)("ngModelOptions",c.DdM(12,r)),c.xp6(8),c.Q6J("ngModel",e.slot.count)("ngModelOptions",c.DdM(13,r)),c.xp6(3),c.Q6J("ngIf",e.messagestatus))},directives:[i.Gu,i.sr,i.Sm,i.oU,i.cs,i.wd,i.W2,i.PM,i.Zi,i.gZ,i.FN,s._Y,s.JL,s.F,i.Ie,i.Q$,i.t9,i.QI,s.JJ,s.On,i.n0,i.pK,i.as,i.YG,n.O5],styles:[""]}),t})()}];let p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[a.Bz.forChild(Z)],a.Bz]}),t})(),h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[n.ez,s.u5,i.Pc,l.JF,p,s.UX,s.u5]]}),t})()}}]);