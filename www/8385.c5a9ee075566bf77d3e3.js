(self.webpackChunkcovin_kims_app=self.webpackChunkcovin_kims_app||[]).push([[8385],{8385:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HomePageModule:()=>p});var i=n(1116),s=n(9019),o=n(1462),r=n(2782),c=n(8619),l=n(3958);function a(e,t){1&e&&(c.TgZ(0,"div"),c.TgZ(1,"ion-text",7),c._uU(2,"User Logged in successfully... "),c.qZA(),c.qZA())}function u(e,t){if(1&e&&(c.TgZ(0,"div"),c.TgZ(1,"ion-text",8),c._uU(2),c.qZA(),c.qZA()),2&e){const e=c.oxw();c.xp6(2),c.hij("",e.error," ")}}const d=function(){return{standalone:!0}},g=[{path:"",component:(()=>{class e{constructor(e,t,n,i,s){this.service=e,this.router=t,this.route=n,this.navCtrl=i,this.popoverController=s,this.user_details={phone_number:"",txnId:"",otp:"",token:"",isNewAccount:""},this.error="",this.message="",this.otpname="GET OTP",this.OTPdisableButton=!1,this.editverifyOTP=!0}count_timer_start(){this.seconds="Sec";var e=setInterval((function(){this.timer--,0==this.timer&&(this.timer=0,clearInterval(e),this.OTPdisableButton=!1)}).bind(this),1e3)}get_otp(){"RESEND"==this.otpname&&(this.resendOTPmessage="OTP resent successfully",this.timer=180,this.count_timer_start()),"GET OTP"==this.otpname&&(this.otpname="RESEND",this.OTPdisableButton=!0,this.timer=180,this.count_timer_start()),this.service.getOTP(this.user_details.phone_number).subscribe(e=>{console.log(e),this.user_details.txnId=e}),this.editverifyOTP=!1}verify_otp(){this.service.verify_otp(this.user_details).subscribe(e=>{console.log(e),this.user_details.token=e.token,this.user_details.isNewAccount=e.isNewAccount,localStorage.setItem("user_details",JSON.stringify(Object.assign(Object.assign({},this.user_details),{loginTime:(new Date).getTime()}))),sessionStorage.setItem("user_details",JSON.stringify(this.user_details));const t={queryParams:{token:JSON.stringify(this.user_details.token)}};this.message="User Logged in Successfully",this.navCtrl.navigateForward(["dashboard"],t),document.getElementById("logout").style.display="block"})}get_beneficiaries(){this.service.getBeneficiaries(this.user_details).subscribe(e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(l.t),c.Y36(r.F0),c.Y36(r.gz),c.Y36(s.SH),c.Y36(s.Dh))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-home"]],decls:34,vars:16,consts:[[3,"fullscreen"],["novalidate",""],[1,"ion-activated"],["color","primary","placeholder","Phone number","type","tel","maxlength","10","required","",3,"ngModelOptions","ngModel","ngModelChange"],["color","success","expand","block",3,"disabled","click"],["color","primary","placeholder","OTP","type","tel","maxlength","6","required","",3,"ngModelOptions","ngModel","disabled","ngModelChange"],[4,"ngIf"],["color","success",2,"font-weight","bold"],["color","danger",2,"font-weight","bold"]],template:function(e,t){1&e&&(c.TgZ(0,"ion-content",0),c.TgZ(1,"form",1),c.TgZ(2,"ion-card"),c.TgZ(3,"ion-card-header"),c.TgZ(4,"ion-card-title"),c._uU(5,"Login"),c.qZA(),c.qZA(),c.TgZ(6,"ion-card-content"),c._uU(7," Please enter your phone number"),c._UZ(8,"br"),c.qZA(),c.qZA(),c.TgZ(9,"ion-card"),c.TgZ(10,"ion-item",2),c.TgZ(11,"ion-label"),c._uU(12,"Phone Number:"),c.qZA(),c._UZ(13,"br"),c.TgZ(14,"ion-input",3),c.NdJ("ngModelChange",function(e){return t.user_details.phone_number=e}),c.qZA(),c.qZA(),c.TgZ(15,"ion-item"),c.TgZ(16,"ion-button",4),c.NdJ("click",function(){return t.get_otp()}),c._uU(17),c.qZA(),c._uU(18),c._UZ(19,"br"),c.qZA(),c.TgZ(20,"ion-item"),c._uU(21),c.qZA(),c.TgZ(22,"ion-item",2),c.TgZ(23,"ion-label"),c._uU(24,"Enter OTP:"),c.qZA(),c._UZ(25,"br"),c.TgZ(26,"ion-input",5),c.NdJ("ngModelChange",function(e){return t.user_details.otp=e}),c.qZA(),c.qZA(),c.TgZ(27,"ion-item"),c.TgZ(28,"ion-button",4),c.NdJ("click",function(){return t.verify_otp()}),c._uU(29,"Verify OTP"),c.qZA(),c._UZ(30,"br"),c.qZA(),c.TgZ(31,"ion-item"),c.YNc(32,a,3,0,"div",6),c.YNc(33,u,3,1,"div",6),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.Q6J("fullscreen",!0),c.xp6(14),c.Q6J("ngModelOptions",c.DdM(14,d))("ngModel",t.user_details.phone_number),c.xp6(2),c.Q6J("disabled",!!(t.user_details.phone_number.length<10||t.OTPdisableButton)),c.xp6(1),c.hij("",t.otpname," "),c.xp6(1),c.hij(" ",t.resendOTPmessage,""),c.xp6(3),c.AsE(" ",t.timer," ",t.seconds," "),c.xp6(5),c.Q6J("ngModelOptions",c.DdM(15,d))("ngModel",t.user_details.otp)("disabled",t.editverifyOTP),c.xp6(2),c.Q6J("disabled",t.user_details.otp.length<6),c.xp6(4),c.Q6J("ngIf",t.message),c.xp6(1),c.Q6J("ngIf",t.error))},directives:[s.W2,o._Y,o.JL,o.F,s.PM,s.Zi,s.gZ,s.FN,s.Ie,s.Q$,s.pK,s.j9,o.nD,o.Q7,o.JJ,o.On,s.YG,i.O5,s.yW],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),e})()}];let h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[r.Bz.forChild(g)],r.Bz]}),e})(),p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[i.ez,o.u5,s.Pc,h]]}),e})()}}]);